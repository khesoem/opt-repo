*** Begin Patch
*** Add File: rm-datasource/src/test/java/io/seata/rm/datasource/GeneratedTests.java
+package io.seata.rm.datasource;
+
+import org.junit.jupiter.api.Test;
+import org.mockito.Mockito;
+
+import java.sql.Connection;
+import java.util.concurrent.atomic.AtomicBoolean;
+
+import static org.junit.jupiter.api.Assertions.assertTrue;
+
+public class GeneratedTests {
+
+    @Test
+    public void testSetAutoCommitPerformance() throws Exception {
+        // Use a mock Connection that sleeps on commit to simulate expensive commit
+        Connection slowConn = Mockito.mock(Connection.class);
+        AtomicBoolean autoCommitState = new AtomicBoolean(true);
+
+        Mockito.when(slowConn.getAutoCommit()).thenAnswer(invocation -> autoCommitState.get());
+        Mockito.doAnswer(invocation -> {
+            boolean val = (boolean) invocation.getArguments()[0];
+            autoCommitState.set(val);
+            return null;
+        }).when(slowConn).setAutoCommit(Mockito.anyBoolean());
+
+        // commit will sleep to simulate slowness
+        Mockito.doAnswer(invocation -> {
+            Thread.sleep(20);
+            return null;
+        }).when(slowConn).commit();
+
+        DataSourceProxy dataSourceProxy = Mockito.mock(DataSourceProxy.class);
+        // construct proxy with initial autocommit=true
+        Mockito.when(slowConn.getAutoCommit()).thenReturn(true);
+        // ensure getAutoCommit reflects our atomic state
+        Mockito.when(slowConn.getAutoCommit()).thenAnswer(invocation -> autoCommitState.get());
+
+        // start with autoCommit true, switch to false then true repeatedly
+        autoCommitState.set(true);
+        ConnectionProxy proxy = new ConnectionProxy(dataSourceProxy, slowConn);
+
+        final int loops = 30;
+        long start = System.nanoTime();
+        for (int i = 0; i < loops; i++) {
+            proxy.setAutoCommit(false);
+            proxy.setAutoCommit(true);
+            // reset to true/false accordingly
+            autoCommitState.set(true);
+        }
+        long elapsedMs = (System.nanoTime() - start) / 1_000_000;
+        // ensure it ran
+        assertTrue(elapsedMs >= 0);
+    }
+}
+
*** End Patch
+