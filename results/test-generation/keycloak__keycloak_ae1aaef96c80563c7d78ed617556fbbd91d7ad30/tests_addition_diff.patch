*** Begin Patch
*** Add File: server-spi/src/test/java/org/keycloak/models/GeneratedTests.java
+package org.keycloak.models;
+
+import org.junit.Test;
+
+public class GeneratedTests {
+
+    @Test
+    public void comparatorPerformance() {
+        final int SIZE = 2000;
+        final int SORTS = 200;
+
+        java.util.Random rnd = new java.util.Random(12345);
+        java.util.List<RequiredActionProviderModel> list = new java.util.ArrayList<>(SIZE);
+        for (int i = 0; i < SIZE; i++) {
+            RequiredActionProviderModel m = new RequiredActionProviderModel();
+            m.setPriority(rnd.nextInt(1000));
+            m.setName("name" + rnd.nextInt(10000));
+            list.add(m);
+        }
+
+        // Warmup
+        for (int i = 0; i < 20; i++) {
+            java.util.Collections.shuffle(list, rnd);
+            java.util.Collections.sort(list, RequiredActionProviderModel.RequiredActionComparator.SINGLETON);
+        }
+
+        long start = System.nanoTime();
+        for (int i = 0; i < SORTS; i++) {
+            java.util.Collections.shuffle(list, rnd);
+            java.util.Collections.sort(list, RequiredActionProviderModel.RequiredActionComparator.SINGLETON);
+        }
+        long end = System.nanoTime();
+        double sec = (end - start) / 1e9;
+
+        System.out.println("Sort stress: sorts=" + SORTS + " size=" + SIZE + " time(s)=" + sec);
+    }
+}
+
*** End Patch
