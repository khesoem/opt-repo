diff -ruN ./EXPLANATION.md ../original_repo_mod/EXPLANATION.md
--- ./EXPLANATION.md	1970-01-01 00:00:00.000000000 +0000
+++ ../original_repo_mod/EXPLANATION.md	2026-02-19 09:23:21.264276100 +0000
@@ -0,0 +1,10 @@
+This performance test creates a large output directory (1000 files) and then executes the maven plugin
+with skipIfSpecIsUnchanged=true and cleanupOutput=true. In the original code cleanupOutput is executed
+before the check that skips generation, so the large directory is deleted on every run even when the
+spec hasn't changed. In the patched version cleanupOutput is evaluated after skipIfSpecIsUnchanged, so
+when the plugin detects the spec hasn't changed it skips generation and avoids deleting the directory,
+resulting in a faster execution time.
+
+The test does not assert on timing â€” it simply forces the expensive deletion to occur in the original
+version and prints the execution time. You can compare the reported "Time elapsed" in the maven test
+output between the original and patched versions to observe the improvement.
diff -ruN ./improvement_tests.txt ../original_repo_mod/improvement_tests.txt
--- ./improvement_tests.txt	1970-01-01 00:00:00.000000000 +0000
+++ ../original_repo_mod/improvement_tests.txt	2026-02-19 09:23:21.291276144 +0000
@@ -0,0 +1 @@
+org.openapitools.codegen.plugin.PerformanceTest
diff -ruN ./modules/openapi-generator-maven-plugin/src/test/java/org/openapitools/codegen/plugin/PerformanceTest.java ../original_repo_mod/modules/openapi-generator-maven-plugin/src/test/java/org/openapitools/codegen/plugin/PerformanceTest.java
--- ./modules/openapi-generator-maven-plugin/src/test/java/org/openapitools/codegen/plugin/PerformanceTest.java	1970-01-01 00:00:00.000000000 +0000
+++ ../original_repo_mod/modules/openapi-generator-maven-plugin/src/test/java/org/openapitools/codegen/plugin/PerformanceTest.java	2026-02-19 09:23:21.231276046 +0000
@@ -0,0 +1,62 @@
+/*
+ * Performance test to demonstrate cleanupOutput position impact on execution time.
+ */
+package org.openapitools.codegen.plugin;
+
+import java.io.File;
+import java.nio.charset.StandardCharsets;
+import java.nio.file.Files;
+import java.nio.file.Path;
+import java.util.stream.IntStream;
+
+import org.apache.commons.io.FileUtils;
+
+public class PerformanceTest extends BaseTestCase {
+
+    public void testCleanupBeforeSkipIsCostly() throws Exception {
+        // Prepare a temporary project copied from test resources that has skipIfSpecIsUnchanged=true
+        final Path folder = Files.createTempDirectory("perf-test");
+        final CodeGenMojo mojo = loadMojo(folder.toFile(), "src/test/resources/classpath", "executionId");
+
+        // initial generation to create hash file
+        mojo.execute();
+
+        final Path hashFolder = folder.resolve("target/generated-sources/common-maven/remote-openapi/.openapi-generator");
+        assertTrue(hashFolder.resolve("petstore-on-classpath.yaml-executionId.sha256").toFile().exists());
+
+        // Create a large number of files under the configured output to make deletion noticeable
+        final Path outputRoot = folder.resolve("target/generated-sources/common-maven/remote-openapi");
+        Files.createDirectories(outputRoot);
+
+        final int dirs = 50; // 50 directories
+        final int filesPerDir = 20; // 20 files each -> 1000 files
+
+        for (int i = 0; i < dirs; i++) {
+            Path d = outputRoot.resolve("dir" + i);
+            Files.createDirectories(d);
+            for (int j = 0; j < filesPerDir; j++) {
+                Files.write(d.resolve("file_" + j + ".txt"), ("content-" + i + "-" + j).getBytes(StandardCharsets.UTF_8));
+            }
+        }
+
+        // Ensure files were created
+        int count = (int) Files.walk(outputRoot).filter(Files::isRegularFile).count();
+        assertEquals(dirs * filesPerDir, count);
+
+        // Measure execution time of mojo when skipIfSpecIsUnchanged=true and cleanupOutput=true
+        long start = System.nanoTime();
+        mojo.execute();
+        long elapsedMs = (System.nanoTime() - start) / 1_000_000;
+        System.out.println("Mojo execution Time ms: " + elapsedMs);
+
+        // After execution, because skipIfSpecIsUnchanged is true and the spec did not change,
+        // the plugin should skip generation. The test asserts behaviour rather than timing,
+        // but the time reported in Maven logs will differ between the original and patched versions
+        // because in the original code cleanupOutput is performed before the skip check.
+        assertFalse("src directory should not have been regenerated",
+            folder.resolve("target/generated-sources/common-maven/remote-openapi/src").toFile().exists());
+
+        // cleanup
+        FileUtils.deleteDirectory(folder.toFile());
+    }
+}
