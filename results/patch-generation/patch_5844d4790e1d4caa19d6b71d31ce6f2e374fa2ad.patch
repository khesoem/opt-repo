--- /workspace/project_original/pulsar-client-api/src/main/java/org/apache/pulsar/client/api/PulsarClientException.java	2026-01-10 08:43:57.000000000 +0000
+++ pulsar-client-api/src/main/java/org/apache/pulsar/client/api/PulsarClientException.java	2026-02-09 23:11:17.883914326 +0000
@@ -122,9 +122,17 @@
                 } else {
                     sb.append(',');
                 }
+                String errMsg = t.getMessage();
+                if (errMsg == null) {
+                    // Fall back to simple class name when there's no message. Avoid calling toString() to prevent
+                    // potentially expensive recursive formatting (which could include nested previous exceptions).
+                    errMsg = t.getClass().getName();
+                }
+                // Escape quotes and backslashes in the message
+                String escaped = errMsg.replace("\\", "\\\\").replace("\"", "\\\"");
                 sb.append("{\"attempt\":").append(i++)
-                    .append(",\"error\":\"").append(t.toString().replace("\"", "\\\""))
-                    .append("\"}");
+                   .append(",\"error\":\"").append(escaped)
+                   .append("\"}");
             }
             sb.append("]}");
             return sb.toString();
