--- /workspace/project_original/spring-modulith-actuator/src/main/java/org/springframework/modulith/actuator/autoconfigure/ApplicationModulesEndpointConfiguration.java	2026-01-09 11:02:44.000000000 +0000
+++ spring-modulith-actuator/src/main/java/org/springframework/modulith/actuator/autoconfigure/ApplicationModulesEndpointConfiguration.java	2026-02-11 09:59:11.289664045 +0000
@@ -16,6 +16,7 @@
 package org.springframework.modulith.actuator.autoconfigure;
 
 import java.nio.charset.StandardCharsets;
+import java.util.function.Supplier;
 
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
@@ -24,6 +25,7 @@
 import org.springframework.context.annotation.Bean;
 import org.springframework.core.io.ClassPathResource;
 import org.springframework.core.io.Resource;
+import org.springframework.beans.factory.ObjectProvider;
 import org.springframework.modulith.actuator.ApplicationModulesEndpoint;
 import org.springframework.modulith.core.util.ApplicationModulesExporter;
 import org.springframework.modulith.runtime.ApplicationModulesRuntime;
@@ -44,7 +46,7 @@
 
 	@Bean
 	@ConditionalOnMissingBean
-	ApplicationModulesEndpoint applicationModulesEndpoint(ApplicationModulesRuntime runtime) {
+	ApplicationModulesEndpoint applicationModulesEndpoint(ObjectProvider<ApplicationModulesRuntime> runtimeProvider) {
 
 		if (PRECOMPUTED.exists()) {
 
@@ -53,8 +55,20 @@
 			LOGGER.debug("Using application modules description from {}", FILE_LOCATION);
 			return ApplicationModulesEndpoint.precomputed(fileContent);
 
-		} else {
-			return ApplicationModulesEndpoint.ofApplicationModules(runtime);
 		}
+
+		Supplier<String> supplier = () -> {
+			ApplicationModulesRuntime runtime = runtimeProvider.getIfAvailable();
+			if (runtime == null) {
+				// No runtime available â€” avoid bootstrapping ArchUnit and return an empty JSON mapping.
+				LOGGER.debug("No ApplicationModulesRuntime available; returning empty modules description without bootstrapping.");
+				return "{}";
+			}
+
+			// Only bootstrap ApplicationModules when this supplier is invoked
+			return new ApplicationModulesExporter(runtime.get()).toJson();
+		};
+
+		return ApplicationModulesEndpoint.precomputed(supplier);
 	}
 }
